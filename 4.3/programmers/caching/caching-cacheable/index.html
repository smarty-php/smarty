
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.10">
    
    
      
        <title>Caching cacheable - Smarty Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#controlling-cacheability-of-output-cachingcacheable" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Smarty Documentation" class="md-header__button md-logo" aria-label="Smarty Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1h4m6-10h3v2h-3v-2M1 11h3v2H1v-2M13 1v3h-2V1h2M4.92 3.5l2.13 2.14-1.42 1.41L3.5 4.93 4.92 3.5m12.03 2.13 2.12-2.13 1.43 1.43-2.13 2.12-1.42-1.42Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Smarty Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Caching cacheable
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../getting-started/" class="md-tabs__link">
      Getting started
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../designers/language-basic-syntax/" class="md-tabs__link">
        Designers
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../charset/" class="md-tabs__link">
        Programmers
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Smarty Documentation" class="md-nav__button md-logo" aria-label="Smarty Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 6a6 6 0 0 1 6 6c0 2.22-1.21 4.16-3 5.2V19a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-1.8c-1.79-1.04-3-2.98-3-5.2a6 6 0 0 1 6-6m2 15v1a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-1h4m6-10h3v2h-3v-2M1 11h3v2H1v-2M13 1v3h-2V1h2M4.92 3.5l2.13 2.14-1.42 1.41L3.5 4.93 4.92 3.5m12.03 2.13 2.12-2.13 1.43 1.43-2.13 2.12-1.42-1.42Z"/></svg>

    </a>
    Smarty Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Designers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Designers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Basic Syntax
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Basic Syntax
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-syntax-comments/" class="md-nav__link">
        Comments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-syntax-variables/" class="md-nav__link">
        Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-syntax-functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-syntax-attributes/" class="md-nav__link">
        Attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-syntax-quotes/" class="md-nav__link">
        Quotes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-math/" class="md-nav__link">
        Math
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-basic-syntax/language-escaping/" class="md-nav__link">
        Escaping Smarty Parsing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-variables/" class="md-nav__link">
        Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-modifiers/" class="md-nav__link">
        Variable Modifiers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-combining-modifiers/" class="md-nav__link">
        Combining Modifiers
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Builtin Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Builtin Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-append/" class="md-nav__link">
        {append}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-assign/" class="md-nav__link">
        {assign}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-block/" class="md-nav__link">
        {block}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-call/" class="md-nav__link">
        {call}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-capture/" class="md-nav__link">
        {capture}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-config-load/" class="md-nav__link">
        {config_load}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-debug/" class="md-nav__link">
        {debug}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-extends/" class="md-nav__link">
        {extends}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-for/" class="md-nav__link">
        {for}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-foreach/" class="md-nav__link">
        {foreach}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-function/" class="md-nav__link">
        {function}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-if/" class="md-nav__link">
        {if},{elseif},{else}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-include/" class="md-nav__link">
        {include}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-insert/" class="md-nav__link">
        {insert}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-ldelim/" class="md-nav__link">
        {ldelim},{rdelim}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-literal/" class="md-nav__link">
        {literal}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-nocache/" class="md-nav__link">
        {nocache}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-section/" class="md-nav__link">
        {section}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-setfilter/" class="md-nav__link">
        {setfilter}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-strip/" class="md-nav__link">
        {strip}
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-builtin-functions/language-function-while/" class="md-nav__link">
        {while}
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/language-custom-functions/" class="md-nav__link">
        Custom Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/config-files/" class="md-nav__link">
        Config Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../designers/chapter-debugging-console/" class="md-nav__link">
        Debugging Console
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Programmers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Programmers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../charset/" class="md-nav__link">
        Charset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../smarty-constants/" class="md-nav__link">
        Smarty constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-variables/" class="md-nav__link">
        Api variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api-functions/" class="md-nav__link">
        Api functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Caching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-features/" class="md-nav__link">
        Advanced features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cacheability-of-template-section-cacheabilitysections" class="md-nav__link">
    Cacheability of Template Section {#cacheability.sections}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cacheability-of-tags-cacheabilitytags" class="md-nav__link">
    Cacheability of Tags {#cacheability.tags}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cacheability-of-variables-cacheabilityvariables" class="md-nav__link">
    Cacheability of Variables {#cacheability.variables}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cacheability-of-plugins-cacheabilityplugins" class="md-nav__link">
    Cacheability of Plugins {#cacheability.plugins}
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="controlling-cacheability-of-output-cachingcacheable">Controlling Cacheability of Output {#caching.cacheable}</h1>
<p>If caching is enabled normally the whole final output of the page gets
cached. However Smarty3 offers several options how to exclude sections
of your output from caching.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Be sure any variables used within a non-cached section are also
assigned from PHP when the page is loaded from the cache.</p>
</blockquote>
<h2 id="cacheability-of-template-section-cacheabilitysections">Cacheability of Template Section {#cacheability.sections}</h2>
<p>A larger section of your template can easily excluded from caching by
using the <a href="#language.function.nocache"><code>{nocache}</code></a> and
<a href="#language.function.nocache"><code>{/nocache}</code></a> tags.</p>
<div class="highlight"><pre><span></span><code>Today&#39;s date is
{nocache}
{$smarty.now|date_format}
{/nocache}
</code></pre></div>
<p>The above code will output the current date on a cached page.</p>
<h2 id="cacheability-of-tags-cacheabilitytags">Cacheability of Tags {#cacheability.tags}</h2>
<p>Caching for an individual tag can be disabled by adding the \"nocache\"
option flag to the tag.</p>
<div class="highlight"><pre><span></span><code>Today&#39;s date is
{$smarty.now|date_format nocache}
</code></pre></div>
<h2 id="cacheability-of-variables-cacheabilityvariables">Cacheability of Variables {#cacheability.variables}</h2>
<p>You can <a href="#api.assign"><code>assign()</code></a> variables as not cachable. Any tag
which uses such variable will be automatically executed in nocache mode.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>If a tag is executed in nocache mode you must make sure that all other
variables used by that tag are also assigned from PHP when the page is
loaded from the cache.</p>
<p><strong>Note</strong></p>
<p>The nocache status of an assigned variable will effect the compiled
template code. If you change the status you must manually delete
existing compiled and cached template files to force a recompile.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>// assign $foo as nocahe variable
$smarty-&gt;assign(&#39;foo&#39;,time(),true);


Dynamic time value is {$foo}
</code></pre></div>
<h2 id="cacheability-of-plugins-cacheabilityplugins">Cacheability of Plugins {#cacheability.plugins}</h2>
<p>The cacheability of plugins can be declared when registering them. The
third parameter to <a href="#api.register.plugin"><code>registerPlugin()</code></a> is called
<code>$cacheable</code> and defaults to TRUE.</p>
<p>When registering a plugin with <code>$cacheable=false</code> the plugin is called
everytime the page is displayed, even if the page comes from the cache.
The plugin function behaves a little like an
<a href="#plugins.inserts"><code>{insert}</code></a> function.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>$cacheable</code> status will effect the compiled template code. If you
change the status you must manually delete existing compiled and
cached template files to force a recompile.</p>
</blockquote>
<p>In contrast to <a href="#plugins.inserts"><code>{insert}</code></a> the attributes to the
plugins are not cached by default. They can be declared to be cached
with the fourth parameter <code>$cache_attrs</code>. <code>$cache_attrs</code> is an array of
attribute-names that should be cached, so the plugin-function get value
as it was the time the page was written to cache everytime it is fetched
from the cache.</p>
<div class="highlight"><pre><span></span><code>&lt;?php
$smarty-&gt;setCaching(Smarty::CACHING_LIFETIME_CURRENT);

function remaining_seconds($params, $smarty) {
    $remain = $params[&#39;endtime&#39;] - time();
    if($remain &gt;= 0){
        return $remain . &#39; second(s)&#39;;
    }else{
        return &#39;done&#39;;
    }
}

$smarty-&gt;registerPlugin(&#39;function&#39;,&#39;remaining&#39;, &#39;remaining_seconds&#39;, false, array(&#39;endtime&#39;));

if (!$smarty-&gt;isCached(&#39;index.tpl&#39;)) {
    // fetch $obj from db and assign...
    $smarty-&gt;assignByRef(&#39;obj&#39;, $obj);
}

$smarty-&gt;display(&#39;index.tpl&#39;);
?&gt;
</code></pre></div>
<p>where <code>index.tpl</code> is:</p>
<div class="highlight"><pre><span></span><code>Time Remaining: {remaining endtime=$obj-&gt;endtime}
</code></pre></div>
<p>The number of seconds till the endtime of <code>$obj</code> is reached changes on
each display of the page, even if the page is cached. Since the endtime
attribute is cached the object only has to be pulled from the database
when page is written to the cache but not on subsequent requests of the
page.</p>
<div class="highlight"><pre><span></span><code>index.php:

&lt;?php
$smarty-&gt;setCaching(Smarty::CACHING_LIFETIME_CURRENT);

function smarty_block_dynamic($param, $content, $smarty) {
    return $content;
}
$smarty-&gt;registerPlugin(&#39;block&#39;,&#39;dynamic&#39;, &#39;smarty_block_dynamic&#39;, false);

$smarty-&gt;display(&#39;index.tpl&#39;);
?&gt;
</code></pre></div>
<p>where <code>index.tpl</code> is:</p>
<div class="highlight"><pre><span></span><code>Page created: {&#39;0&#39;|date_format:&#39;%D %H:%M:%S&#39;}

{dynamic}

Now is: {&#39;0&#39;|date_format:&#39;%D %H:%M:%S&#39;}

... do other stuff ...

{/dynamic}
</code></pre></div>
<p>When reloading the page you will notice that both dates differ. One is
"dynamic" one is "static". You can do everything between
<code>{dynamic}...{/dynamic}</code> and be sure it will not be cached like the rest
of the page.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The above example shall just demonstrate how a dynamic block plugins
works. See
<a href="#cacheability.sections"><code>Cacheability of Template Section</code></a> on how to
disable caching of a template section by the built-in
<a href="#language.function.nocache"><code>{nocache}</code></a> and
<a href="#language.function.nocache"><code>{/nocache}</code></a> tags.</p>
</blockquote>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.tracking"], "search": "../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.6df46069.min.js"></script>
      
    
  </body>
</html>